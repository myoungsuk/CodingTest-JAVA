### 8/27

이진 트리 삽입
비교비교비교해서 해당 위치에 연결만 해주면 된다. 

삭제
15라는 노드를 삭제하고 싶을 때 
삭제 대상 노드에 자식 노드가 하나 있는 경우 
자식 노드를 삭제 대상 노드의 부모 노드에 연결
-삭제 대상 노드 삭제 

자식 노드 하나인 경우에는 
하나만 가지고 연결해주면 되니깐 

근데 자식 노드가 둘인경우에
삭제하고 연결해주는 작업이 필요하다. 
삭제 대상 노드에 왼쪽 서브트리에서 가장 큰 노드 선택
 오른쪽 서브트리에서 가장 작은 노드 선택
 
삭제 대상 노드에 올리는 것
왼쪽을 가서 가장 큰 노드를 올리고 
왼쪽 링크랑 오른쪽 링크들을 가져와서 연결해주면 된다. 
위로 올라가면서 변하는 정보들을 업데이트 해줘야된다. 

이렇게 하는 이유는 이진 탐색 트리의 특성을 유지시키기 위해이다. 

key, left , right 

Node head;

삽입 삭제 요청 
링크 연결이 잘 됬는지 확인하기 위해서 레벨 오더를 통해 출력이 잘 되는지 확인해보자 

헤드쪽이 널인지 체크해보고 
아무것도 없으면 노드를 하나추가해주고 
노드들이 있을 때느 ㄴ
키값 비교를 하면서 좌측으로 갈지 우측으로 갈지 비쇼

Node cur = this.head;
while(true) {
Node pre = cur;

if(key < cur.key) {
cur = cur.left ;

키값이 얘보다 작으면 왼쪽으로 이동해주고 
if(cur == null이면 )
그 위치에다 데이터를 바로 넣어주면 된다. 
pre.left = new Node(key, null, null);
break;
else{
cur = cur.right;

if(cur == null){
pre.right = new Node(key, null, null);

if(cur == null) {
sout 
return ;

삭제하려는걸 케이스에 나눠가지고 구해주면 되는데 
먼저 
리프노드인경우 
왼쪽 오른쪽 둘다 널인경우 
만약 페ㄹ어런트가 null이라면 노드 한개밖에 없는 케이스 
head를 null 로 바꿔주면 끝이다. 

그 외의 경우에는 
if(parent.left == cur){
삭제하려고 하는 노드면 parent.left = null로 바꿔주고 
오른쪽이면 오른쪽을 null로 만들어준다. 

자식 노드가 하나인 케이스에 (cur.left != null && cur.right == null || )

균형 이진 트리의 이해 
AVL 트리 개념 이해 및 구현 

균형 이진 트리 같은 경우 모든 노드의 좌우 서브 트리 높이가 1 이상 차이나지 않는 트리

20 10 30 5
5 10 20 30 

이진 탐색 트리에 삽입되는 순서 
좌우 높이의 서브 트리가 1만큼 밖에 안되니깐 차이 난다. 

균형을 유지하도록 조건을 맞추는 트리
AVL 트리 , Red - BALCK 트리 

이런식으로 아얘 재조정이 일어나서 
높이가 1이상 넘지 않도록 하는 트리

노드가 삽입, 삭제될 때 트리의 균형을 체크하고 유지하는 트리 
각 노드의 BF를 [-1, 0, 1] 만 가지게 하여 균형을 유지 

BF(Balance Factor)
-왼쪽 서브 트리 높이 - 오른쪽 서브 트리 높이 

BF가 '+' 이면 왼쪽 서브 트리에 이상이 있음
BF가 '-' 이면 오른쪽 서브 트리에 이상이 있음 

리밸런싱을 하는 연산으로 LL RR 

LR 케이스 
균형이 깨진에 left right 형태인데 

Red-Black 트리에 대해서 배워보자 

여러개의 규칙으로 이루어진 것 

검은색 노드랑 빨간색 노드로 이루어진 트리 

root 노드와 leaf 노드의 색은 black 
red 색 노드의 자식은 black 
모든 leaf 노드에서 root 노드까지 가는 경로의 black 노드 수는 같음 

처음에 추가할땐 빨간색으로 추가된다 근데 루트다 하면 검은색ㅇ로 바뀌는 것 
더블 레드가 발생했으 ㄹ때 부모노드의 형제노드가 red일때 
리 컬러링 진행

부모의 부모 노드를 red로 변경 
부모의 부모 노드가 root 인지 double red 인지에 따라 조정 진행

이 위에가 빨간색 노드라 하면 더블 레드가 되니깐 맞춰서 해주면 된다. 

부모의 부모 노드를 red로 변경 

Restructering 진행 회전 연산 진행

조정 대상 : 삽입한 노드 , 부모 노드 , 부모의 부모 노드 
가운데 노드를 부모 노드로 선정하고 black 으로 변겨 ㅇ
나머지 두 노드를 자식 노드로 두고 red 로 변경 

검은색을 삭제해서 null 이중 흑색 노드가 되는데 형재 노드가 Red 인 경우 
형제 노드를 black 으로 변경해줌 
그라듬에 부모 노드를 red 로 변경

오름차순으로 나열하는 과정 필요 

롤타입 jpa 라는 개념을 떼놓고 봤을대 리팩토링이 가능한
jpa 엔티티의 필드는 final 을 붙일 수 없다. 
엔티티로 crud 를 표현하는 것

롤타입을 넣은다음 변경가능해야되는데 
final을 넣는다는건 말이 안된다. 

유저아이디 유저 패스워드가 있다. 이 필드를 넣을 수 있는 위치도 생성자쪽에서
만들어줘야된다. 

팩토리메서드에도 반영해주고






























