### 1/1

오늘은 로그인 기능 개발을 진행할 예정이다. 

authority pk값을 id 로 잡았는데 이메일로 잡는게 나을거같다. 다시 짜야겠다. 

맥 새로산 노트북 거치대 테스트중 나쁘지 않게 되는 것 같다! 시야각이 높아져서 기분이 좋다!


### 1/2

어제 로그인 기능 개발을 했다. 세션과 쿠키를 이용하는 방법 권한기능, 삭제 업데이트 
bycrpt 기능을 다 이용했다. 
그리고 회원가입 기능도 개발 했다. 
트랜잭션과 시큐리티 기능에 있어서도 개발을 완료했다. 

오늘은 프론트 부분을 좀 손봐야될 것 같다. 
로그인 기능도 메인페이지, 마이페이지, 
그리고 도서 페이지도 ui적으로 만들어줘야될 것 같다. 

세션테이블까지 만드는데 성공했다 리멤버 미까지 구현 완료했다. 

이제 페이지 기능 중 공유나 좋아요 댓글 이렇게 세개의 기능이 있으면 좋을 것 같다. 

ui작업을 수행중이다. 
로그인페이지
회원가입페이지
세팅 페이지
마이페이지

ui작업을 진행하고있다. 
로그인페이지와 회원가입페이지는 구현을 완료했고 
마이페이지에서 작업을 해야되는부분은
본인의 정보를 마이페이지에 뜨게 만들어야되고 
세팅페이지에서 수정하는 부분을 구현해야될 것 같다. 

추가로 구현해야 될 부분이라면 내 id 값 기반이나 email 값 기반으로 내가 쓴 도서 후기를 
불러오는 것과
추가 기능이 있으면 좋겠다고 생각한건 내가 좋아요한 글이 있으면 좋겠다 생각한다. 

카테고리 부분도 구현이 됬으면 좋겠다

- 회원 탈퇴 사유를 모아 놓는 테이블 만들기 (완)
- 게시글 카테고리 구현(자유게시판에 작성한 목록, 도서후기 작성한 목록 도서후기를 작성한 목록에 한해서는 장르에 따른 카테고리 구현 요망)
- 블로그 조회수 기능
- 방명록 기능 


### 1/3

오늘도 어제 마저 작업하던 부분을 진행할 생각이다 일단 프로필사진 올리는것부터 시작해야지

오늘 진행할 사안
- 프로필 사진 수정 구현 (완)
- 블로그 조회수 기능
- 방명록 기능
- 비밀번호 찾기 기능

오늘 아쉽게도 프로필사진 구현기능까지밖에 못했다. 
의외로 시간을 많이 잡아먹는 기능이였다. 하지만 구현을 완료했으니 만족한다.


### 1/4

오늘은 늦잠을 잤다... 어제 서울을 당일치기로 갔다온게 좀 컸나보다..
오늘은 

아 그전에 마이 프로필 페이지 사진도 동그라미로 수정하고
메인 레포지터리에 통합할 생각이다. 그래서 헤더를 수정하고 링크별로 맞게 설정해야될것같다.
수정해서 올린뒤 

1. 비밀번호 변경 기능
2. 방명록 기능
3. 블로그 조회수 기능(redis)를 이용한

진행해봐야겠다. 


### 1/5

오늘 할일
1. 비밀번호 변경 기능
2. 방명록 기능
3. 블로그 조회수 기능(redis)를 이용한

그리고 오늘 작업중 카카오맵 api키값을 숨겨야되는 일이 생겼다
이걸 jsp 파일 그대로 자바스크립트로 가져오면 문제가 생겼다 
그래서 고민에 고민을 하다가 
context.xml 파일에 넣어서 가져오는 방법을 사용했다.
context.xml 파일에 설정한 환경 변수는 JNDI를 이용해서 가져올 수 있다.

그리고 백엔드컨트롤러에서 api 요청 처리를 했다. 
그리고 프론트에서는 api 요청을 받아서 처리하는 부분을 구현했다.

근데 이렇게 해서 getScript를 활용해 했는데 지원을 하지 않는것 같다. 
그래서 다른 방법을 찾아야했다. 

### 1/6

오늘은 멘토링 날이다 그래서 멘토분들께 발표하고 개발하는 시간을 가질 것 같다. 

오늘 이후 추가로 구현 완료한 것
1. 비밀번호 변경 기능

비밀번호 변경기능은 이메일 값을 불러오는데 PasswordChangeDTO에 email을 선언해놓고
dto.setEmail(email)로 값을 넣어주지 않아서 해결이 안됬었다. 
해결 방법은 log4j2를 이용해서 프론트와 컨트롤러에서 화면에서 페이지 검사 를해서 
reponse값이 200으로 잘 들어오는거러 확인했고 파라미터 값도 정확하게 등록되는걸 확인했다. 
하지만 그래도 되지 않아 서비스 레이어에서 로그로 확인을 했을때도 값이 잘 들어오는걸 확인했다.
그러면 mybatis에서 문제가 생긴거라고 생각했고 mybatis에서 로그를 확인했을때
이메일 값을 찾는데 null값이 들어오는걸 확인했다. 
그래서 dto.setEmail(email)로 값을 넣어주니까 잘 되었다.

2. 방명록 기능
방명록 기능을 구현할 생각이다!

# 질문 
갑자기 개발중 문득 다음 멘토링 질문이 생각이 났다. 지금 최종 프로젝트 기획서를 보는중
이 피피티를 포트폴리오로 낼 생각인데 어떤부분을 많이 강조하는게 서류검토나 면접에서 좋을지
여쭤봐야겠다. 

# 문제점발생과 해결
개발 구현 중 이상한 점 발생.. 분명
<select id="getEntriesByEmail" parameterType="string" resultType="guestBookVO">
SELECT * FROM guest_book
WHERE recipient_email = #{email}
</select>

난 이 칼럼 전체를 가져오게 했는데 
email 값이 null이라고 계속 뜬다.

근데 또 이상한건 로그인한 사용자의 이메일을 기반으로 선택한 칼럼만 잘 가져온다

그럼 이메일 값이 null이라고 뜨는 이유는 뭘까?
하 스펠링 문제...

# 고민
방명록기능은 닉네임과 작성글이 보이도록 처리할 예정이다 근데 닉네임은 member테이블에만 있기 떄문에
member테이블과 guest_book 테이블을 조인해서 닉네임을 가져올 생각이다.
하지만 이런경우에 오히려 성능적으로 좋지 않을 것같기 때문에 
member테이블에 닉네임을 guest_book 테이블에도 넣어주는게 좋을 것 같다.

오늘 멘토링 이후 추가 작업할것이 생겼다. 
3. 이메일 유효성 검사처리를 해야될것 같다.

방명록 최근 게시글 5개까지 나오는것 출력처리완료
이제는 방명록 페이지를 들어가서 리스트로 쭉 보여주고 페이징 처리를 하면 될것같다
하지만 탁구치고와야겠다 매일 아침9시부터 밤 9시 까지 앉아있으니 허리가 아프다이제
















































